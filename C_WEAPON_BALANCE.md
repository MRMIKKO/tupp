# C弹（追踪火箭炮）平衡性优化

## 🎯 设计理念

C弹作为追踪型武器，应该在不同P等级下提供**渐进式的强化体验**，让玩家明显感受到升级带来的威力提升。

## 📊 P等级属性对照表

### 火箭数量
| P等级 | 火箭数量 | 布局方式 | 说明 |
|-------|---------|---------|------|
| P0 | 1发 | 居中单发 | 基础形态 |
| P1 | 1发 | 居中单发 | 属性提升 |
| P2 | 2发 | 左右对称 | 开始多发 |
| P3 | 2发 | 左右对称 | 继续强化 |
| P4 | 3发 | 中心+左右 | 显著提升 |
| P5 | 3发 | 中心+左右 | 获得穿透 |
| P6 | 4发 | 前后两排 | 最强形态 |

### 详细属性表

| 属性 | P0 | P1 | P2 | P3 | P4 | P5 | P6 |
|------|----|----|----|----|----|----|-----|
| **火箭数量** | 1 | 1 | 2 | 2 | 3 | 3 | 4 |
| **伤害** | 2.5 | 3.3 | 4.1 | 4.9 | 5.7 | 6.5 | 7.3 |
| **追踪强度** | 0.12 | 0.14 | 0.16 | 0.18 | 0.20 | 0.22 | 0.24 |
| **速度** | 7.0 | 7.3 | 7.6 | 7.9 | 8.2 | 8.5 | 8.8 |
| **大小** | 8.0 | 8.5 | 9.0 | 9.5 | 10.0 | 10.5 | 11.0 |
| **穿透** | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ | ✅ |
| **DPS估算** | 2.5 | 3.3 | 8.2 | 9.8 | 17.1 | 19.5 | 29.2 |

## 🔧 技术实现

### 1. 渐进式数量增加
```javascript
let rocketCount = 1; // P0: 1发
if (pLevel >= 2) rocketCount = 2; // P2: 2发
if (pLevel >= 4) rocketCount = 3; // P4: 3发
if (pLevel >= 6) rocketCount = 4; // P6: 4发
```

### 2. 属性计算公式
```javascript
伤害 = 2.5 + 0.8 × P等级
追踪强度 = 0.12 + 0.02 × P等级
速度 = 7.0 + 0.3 × P等级
大小 = 8.0 + 0.5 × P等级
穿透 = P等级 >= 5
```

### 3. 发射布局

**单发（P0-P1）**
```
    ↑
    🚀
```

**双发（P2-P3）**
```
  ↑   ↑
  🚀  🚀
```

**三发（P4-P5）**
```
  ↑ ↑ ↑
  🚀🚀🚀
```

**四发（P6）**
```
  ↑   ↑
  🚀  🚀  (前排)
  
  ↑   ↑
  🚀  🚀  (后排，延迟3帧发射)
```

### 4. 延迟发射机制
P6的后排火箭延迟3帧发射，形成**弹幕效果**，避免所有火箭同时发射造成画面拥挤。

## ⚖️ 平衡性考量

### 优势
1. **追踪能力**：自动锁定敌机，命中率高
2. **渐进强化**：每个P等级都有明显提升
3. **视觉反馈**：火箭数量和大小的变化直观可见
4. **穿透能力**：P5+可以穿透多个敌人

### 劣势
1. **单体攻击**：火箭会分散追踪不同目标
2. **速度适中**：不如激光快速
3. **数量限制**：最多4发，不如散弹覆盖面广

### 与其他弹药对比

| 弹药类型 | 特点 | 适用场景 |
|---------|------|---------|
| **S（散弹）** | 覆盖面广，数量多 | 敌机密集时 |
| **L（激光）** | 持续伤害，高DPS | 单体BOSS |
| **B（爆炸弹）** | 范围伤害 | 群体清理 |
| **C（火箭）** | 自动追踪，稳定输出 | 机动敌人、中远距离 |

## 📈 升级建议

### 前期（P0-P2）
- 单发或双发火箭
- 适合新手，容错率高
- 建议配合躲避为主的打法

### 中期（P3-P4）
- 双发升级到三发
- 追踪能力增强
- 可以主动压制敌人

### 后期（P5-P6）
- 穿透能力解锁
- 四发弹幕形成火力网
- 适合激进的进攻打法

## 🎮 游戏性影响

### 策略深度
- **选择时机**：何时切换到C弹？
- **P等级管理**：是否值得保持高P等级？
- **弹药切换**：与其他弹药的配合

### 技能天花板
- **新手友好**：追踪降低操作难度
- **高手发挥**：配合走位最大化输出
- **P6强度**：四发穿透火箭在满级时非常强力，但需要努力升级

## 🔄 后续调整空间

如果发现平衡性问题，可以调整：

### 削弱方案
- 降低追踪强度（0.02 → 0.015）
- 减少P6的火箭数量（4 → 3）
- 延长射击冷却时间

### 加强方案
- 提高基础伤害（2.5 → 3.0）
- 增加火箭速度（+0.3 → +0.4）
- P4即可获得穿透（而非P5）

---

## 📝 更新日志

**2025-12-05**
- 优化C弹P等级渐进式强化
- 添加火箭数量递增机制（1→2→3→4）
- 实现延迟发射避免画面拥挤
- P5+添加穿透能力
- 所有属性随P等级线性增长

---

测试建议：体验不同P等级的火箭数量和追踪效果变化！
